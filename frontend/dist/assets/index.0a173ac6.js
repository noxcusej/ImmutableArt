var f=Object.defineProperty,e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(e,a,t)=>a in e?f(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;"undefined"!=typeof require&&require;import{o as n,c as l,a as d,d as r,_ as o,r as i,b as c,i as b,s as u,t as p,e as m,f as y,F as h,g as v,C as w,u as x,h as g,j as k,k as C,l as M,m as H,w as A,n as E,p as z,q as S,v as O,x as I,y as L,z as T,T as P,A as N,B as R,D as j,E as V,G as F,H as B,I as _,J as $,K as U,L as D,M as W,N as q,O as K,P as Y,Q as G,R as J,S as Q,U as X,V as Z,W as ff,X as ef,Y as af}from"./vendor.b5508006.js";!function(){const f=document.createElement("link").relList;if(!(f&&f.supports&&f.supports("modulepreload"))){for(const f of document.querySelectorAll('link[rel="modulepreload"]'))e(f);new MutationObserver((f=>{for(const a of f)if("childList"===a.type)for(const f of a.addedNodes)"LINK"===f.tagName&&"modulepreload"===f.rel&&e(f)})).observe(document,{childList:!0,subtree:!0})}function e(f){if(f.ep)return;f.ep=!0;const e=function(f){const e={};return f.integrity&&(e.integrity=f.integrity),f.referrerpolicy&&(e.referrerPolicy=f.referrerpolicy),"use-credentials"===f.crossorigin?e.credentials="include":"anonymous"===f.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(f);fetch(f.href,e)}}();const tf={},sf={class:"cursor-pointer hover:text-gray-500 fill-current",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},nf=[d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),d("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},null,-1)];tf.render=function(f,e){return n(),l("svg",sf,nf)};var lf=r({props:{address:{type:String,required:!0},short:{type:Boolean,default:!0}},setup(f){const{toClipboard:e}=o(),a=i(!1);return{displayAddress:c((()=>{let e=f.address;return b(e)||(e=""),f.short?u(e):e})),isCopied:a,copy:async()=>{try{await e(f.address),a.value=!0,setTimeout((()=>{a.value=!1}),1500)}catch(t){console.error(t)}}}}});const df={class:"cursor-pointer hover:text-blue-400"},rf={class:"relative inline-block"},of={key:0,class:"absolute bottom-7 -left-3 mx-2 w-16"},cf=[d("div",{class:"bg-black text-white text-sm rounded py-1 text-center"},[v(" copied "),d("svg",{class:"absolute text-black h-2 left-0 ml-3 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255","xml:space":"preserve"},[d("polygon",{class:"fill-current",points:"0,0 127.5,127.5 255,0"})])],-1)];lf.render=function(f,e,a,t,s,r){const o=tf;return n(),l(h,null,[d("span",df,p(f.displayAddress),1),d("div",rf,[m(o,{onClick:f.copy,class:"w-4 mx-1 inline-block"},null,8,["onClick"]),f.isCopied?(n(),l("div",of,cf)):y("",!0)])],64)};const bf=new URLSearchParams(window.location.search);function uf(f){bf.set("chainId",f.toString()),window.history.replaceState({},"",`${location.pathname}?${bf}`)}const pf=[1,4],mf=i(1),yf=Number(bf.get("chainId"));if(bf.has("chainId")){if(!(yf in w))throw new Error("Unsupported chainId in the browser url.");mf.value=yf}!bf.has("chainId")&&uf(mf.value);const{network:hf,isActivated:vf}=x();function wf(){const f=c((()=>31337===mf.value?"http://127.0.0.1:8545/":`https://${g(mf.value)}.infura.io/v3/ba5030f413794d7ab93fa0623e55d48c`)),e=c((()=>!hf.value||pf.includes(hf.value.chainId))),a=c((()=>{var f;return vf.value&&(null==(f=hf.value)?void 0:f.chainId)!==mf.value})),t=c((()=>pf.map((f=>g(f))))),s=c((()=>{let f=[];return pf.forEach((e=>{f.push(g(e))})),f.join(", ")}));return{isDev:false,infuraApiKey:"ba5030f413794d7ab93fa0623e55d48c",supportedChainIds:pf,rpcURL:f,appChainId:mf,isSupportedNetwork:e,unmatchedNetwork:a,supportedChainNames:t,supportedChainName:s,changeAppChainId:function(f){mf.value=f,uf(mf.value)}}}const xf=[];var gf=r({components:{Address:lf},name:"LayoutHeader",setup(){const{open:f}=k(),{address:e,balance:a,chainId:t,isActivated:s}=x(),{isSupportedNetwork:n,unmatchedNetwork:l,appChainId:d,supportedChainIds:r,changeAppChainId:o,supportedChainNames:b}=wf(),u=i(!1),p=c((()=>d.value?g(d.value):""));return{openBoard:f,address:e,chainId:t,appChainId:d,displayBalance:c((()=>C(a.value))),isSupportedNetwork:n,unmatchedNetwork:l,chainName:p,supportedChainNames:b,isActivated:s,navigation:xf,dropdown:u,supportedChainIds:r,dropdownHandler:()=>{u.value=!u.value},changeAppChainId:o}}});const kf={class:"w-full px-4"},Cf={class:"flex justify-between p-4 px-3"},Mf={class:"w-full"},Hf={class:"flex items-center justify-between"},Af={class:"flex space-x-4 items-center"},Ef={class:""},zf=d("img",{class:"h-10 min-w-10",src:"/assets/logo.03d6d6da.png",alt:"logo"},null,-1),Sf={class:"flex items-center space-x-4"},Of={class:"relative inline-block text-left"},If=d("svg",{class:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Lf={key:0,class:"origin-top-right absolute right-0 mt-2 w-30 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},Tf={class:"py-1",role:"none"},Pf=["onClick"],Nf={key:0,class:"flex items-center"},Rf=[d("div",{class:"text-gray-500"},"unsupported network",-1)],jf={key:1,class:"flex items-center"},Vf=[d("div",{class:"text-gray-500"},"unmatched network",-1)],Ff={key:2,class:"flex items-center"},Bf={class:"sm:hidden py-2 px-3 rounded-2xl inline-block bg-gray-100"},_f={class:"hidden sm:flex py-1 px-2 flex items-center rounded-3xl border border-solid"},$f={class:"px-1 mr-1"},Uf={class:"py-2 px-3 rounded-2xl inline-block bg-gray-100"};gf.render=function(f,e,a,t,s,r){const o=M("router-link"),i=lf,c=H("click-outside");return n(),l("header",kf,[d("div",Cf,[d("nav",Mf,[d("div",Hf,[d("div",Af,[d("div",Ef,[m(o,{to:"/"},{default:A((()=>[zf])),_:1})]),(n(!0),l(h,null,E(f.navigation,(f=>(n(),S(o,{key:f.name,to:f.href,"active-class":"font-bold",exact:"",class:"font-medium text-gray-500 hover:text-gray-900"},{default:A((()=>[v(p(f.name),1)])),_:2},1032,["to"])))),128))]),d("div",Sf,[d("div",Of,[d("div",null,[z(d("button",{onClick:e[0]||(e[0]=(...e)=>f.dropdownHandler&&f.dropdownHandler(...e)),type:"button",class:"inline-flex justify-center w-full capitalize rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none","aria-expanded":"true","aria-haspopup":"true"},[v(p(f.chainName)+" ",1),If],512),[[c,()=>f.dropdown=!1]])]),f.dropdown?(n(),l("div",Lf,[d("div",Tf,[(n(!0),l(h,null,E(f.supportedChainNames,((e,a)=>(n(),l("div",{key:a,onClick:e=>f.changeAppChainId(f.supportedChainIds[a]),href:"#",class:"text-gray-700 capitalize block px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer",role:"menuitem",tabindex:"-1",id:"menu-item-0"},p(e),9,Pf)))),128))])])):y("",!0)]),f.isSupportedNetwork?f.unmatchedNetwork?(n(),l("div",jf,Vf)):f.isActivated?(n(),l("div",Ff,[d("div",Bf,[m(i,{address:f.address},null,8,["address"])]),d("div",_f,[d("div",$f,p(f.displayBalance)+" ETH",1),d("div",Uf,[m(i,{address:f.address},null,8,["address"])])])])):(n(),l("button",{key:3,onClick:e[1]||(e[1]=(...e)=>f.openBoard&&f.openBoard(...e)),class:"btn-gray"}," Connect Wallet ")):(n(),l("div",Nf,Rf))])])])])])};const Df=[{name:"GitHub",href:"https://github.com/chnejohnson/splitter",icon:r({render:()=>O("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[O("path",{"fill-rule":"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z","clip-rule":"evenodd"})])})}];var Wf=r({name:"LayoutFooter",setup:()=>({navigation:Df})});const qf={class:"bg-white p-10 mt-10"},Kf={class:"w-full flex justify-center"},Yf=["href"],Gf={class:"sr-only"};Wf.render=function(f,e,a,t,s,r){return n(),l("footer",qf,[d("div",Kf,[(n(!0),l(h,null,E(f.navigation,(f=>(n(),l("a",{key:f.name,href:f.href,target:"_blank",class:"text-gray-400 hover:text-gray-500"},[d("span",Gf,p(f.name),1),(n(),S(I(f.icon),{class:"h-10 w-10"}))],8,Yf)))),128))])])};const Jf=i(!1),Qf=i("Loading...");function Xf(){return{isLoading:Jf,message:Qf}}L(Jf,(f=>{f||(Qf.value="Loading...")}));var Zf=r({setup(){const{isLoading:f,message:e}=Xf();return L(f,(f=>{f?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")})),T((()=>{document.body.classList.remove("overflow-hidden")})),{isLoading:f,message:e}}});const fe={key:0,class:"fixed fixed left-0 bottom-0 w-full h-full bg-gray-500 bg-opacity-80 flex items-center justify-center w-full h-full"},ee={class:"flex justify-center items-center space-x-1 text-sm text-gray-300"},ae=d("svg",{fill:"none",class:"w-12 h-12 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[d("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})],-1),te={class:"text-gray-300 text-xl"};Zf.render=function(f,e,a,t,s,r){return n(),S(P,{to:"html"},[f.isLoading?(n(),l("div",fe,[d("div",ee,[ae,d("div",te,p(f.message),1)])])):y("",!0)])};var se=r({name:"App",components:{LayoutHeader:gf,LayoutFooter:Wf,Loader:Zf},setup(){const{isSupportedNetwork:f,unmatchedNetwork:e,supportedChainName:a}=wf(),{onAccountsChanged:t,onChainChanged:s}=N();return t((()=>{R({text:"Account Changed",type:"warn"})})),s((()=>{R({text:"Chain Changed",type:"warn"})})),{isSupportedNetwork:f,unmatchedNetwork:e,supportedChainName:a}}});const ne={key:0},le={key:1,class:"text-center text-xl text-red-500 p-4"};se.render=function(f,e,a,t,s,r){const o=gf,i=M("router-view"),c=Wf,b=M("vdapp-board"),u=Zf,y=M("notifications");return n(),l(h,null,[m(o),f.isSupportedNetwork&&!f.unmatchedNetwork?(n(),l("div",ne,[m(i)])):(n(),l("div",le,[d("p",null," You are connected to the wrong chain. Please switch to "+p(f.supportedChainName)+". ",1)])),m(c),m(b),m(u),m(y,{position:"bottom right",width:300,"animation-name":"fade-down"})],64)};const de={},re={},oe={class:"cursor-pointer hover:text-blue-600 fill-current",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},ie=[d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),d("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"},null,-1)];re.render=function(f,e){return n(),l("svg",oe,ie)};const ce={},be={class:"cursor-pointer hover:text-red-600 fill-current",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},ue=[d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),d("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"},null,-1)];ce.render=function(f,e){return n(),l("svg",be,ue)};var pe=r({props:{handlerFn:{type:Function,default:()=>new Promise(((f,e)=>{setTimeout((()=>{e(new Error("error message"))}),2e3)}))},globalLoader:{type:Boolean,default:!1},loadingMsg:{type:String}},setup(f){const{isLoading:e,message:a}=Xf(),t=i(!1),s=i("");return{isLoading:t,errMsg:s,handler:async()=>{s.value="",f.loadingMsg&&f.globalLoader&&(a.value=f.loadingMsg),f.globalLoader?e.value=!0:t.value=!0;try{await f.handlerFn()}catch(n){s.value=n.message}finally{f.globalLoader?e.value=!1:t.value=!1}}}}});const me=["disabled"],ye={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},he=[d("circle",{class:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)],ve={class:"text-red-600 text-center"};pe.render=function(f,e,a,t,s,r){return n(),l(h,null,[d("button",{onClick:e[0]||(e[0]=(...e)=>f.handler&&f.handler(...e)),type:"button",disabled:!!f.isLoading,class:"inline-flex w-full justify-center items-center px-6 py-3 rounded text-gray-600 text-xl bg-blue-100 hover:bg-blue-200 focus:outline-none transition ease-in-out duration-150 disabled:cursor-default disabled:opacity-70 disabled:bg-blue-200"},[f.isLoading?(n(),l("svg",ye,he)):y("",!0),j(f.$slots,"default")],8,me),d("p",ve,p(f.errMsg),1)],64)};var we=r({emits:["modalClose"],props:{modalOpen:{type:Boolean,required:!0}},setup:(f,{emit:e})=>(L((()=>f.modalOpen),(f=>{f?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")})),T((()=>{document.body.classList.remove("overflow-hidden")})),{closeModal:()=>{e("modalClose")}})});const xe={key:0},ge={class:"flex items-center justify-center fixed left-0 bottom-0 w-full h-full bg-gray-500 bg-opacity-70"},ke={class:"bg-white rounded-lg w-1/2"},Ce={class:"flex flex-col items-start p-4"},Me={class:"flex items-center w-full"},He=[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"},null,-1)];function Ae(){const f=i([]),e=i(""),a=i(1),t=i(""),s=()=>{e.value="",a.value=1};return{payees:f,address:e,share:a,errMsg:t,add:()=>{t.value="",e.value&&a.value&&V.isAddress(e.value)?(f.value.push({address:e.value,share:a.value}),s()):t.value="invalid parameters"},remove:e=>{f.value=f.value.filter((f=>f.address!==e))},clearState:s}}we.render=function(f,e,a,t,s,r){return n(),S(P,{to:"body"},[f.modalOpen?(n(),l("div",xe,[d("div",ge,[d("div",ke,[d("div",Ce,[d("div",Me,[(n(),l("svg",{onClick:e[0]||(e[0]=(...e)=>f.closeModal&&f.closeModal(...e)),class:"ml-auto fill-current text-gray-700 w-6 h-6 cursor-pointer hover:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},He))]),j(f.$slots,"default")])])])])):y("",!0)])};var Ee=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address[]",name:"_payees",type:"address[]"},{internalType:"uint256[]",name:"_shares",type:"uint256[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[],name:"Finalized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"PayeeAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PaymentReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PaymentReleased",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"shares_",type:"uint256"}],name:"addPayee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"payees",type:"address[]"},{internalType:"uint256[]",name:"shares_",type:"uint256[]"}],name:"addPayees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"finalize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isPayee",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"payee",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"account",type:"address"}],name:"release",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"released",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"shares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"state",outputs:[{internalType:"enum Splitter.State",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalPayees",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalReleased",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],ze="0x60a06040526000600560006101000a81548160ff0219169083600181111562000051577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b02179055503480156200006357600080fd5b50604051620028fc380380620028fc8339818101604052810190620000899190620005bf565b81818051825114620000d2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000c9906200077b565b60405180910390fd5b600082511162000119576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200011090620007bf565b60405180910390fd5b60005b8251811015620001d057620001ba83828151811062000164577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151838381518110620001a6577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101516200021360201b60201c565b8080620001c7906200096c565b9150506200011c565b5050508273ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff1660601b8152505050505062000b9c565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141562000286576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200027d9062000759565b60405180910390fd5b60008111620002cc576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620002c390620007e1565b60405180910390fd5b6000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541462000351576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040162000348906200079d565b60405180910390fd5b6004829080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550806000546200040891906200089b565b6000819055507f40c340f65e17194d14ddddb073d3c9f888e3cb52b5aae0c6c7706b4fbc905fac8282604051620004419291906200072c565b60405180910390a15050565b6000620004646200045e846200082c565b62000803565b905080838252602082019050828560208602820111156200048457600080fd5b60005b85811015620004b857816200049d888262000537565b84526020840193506020830192505060018101905062000487565b5050509392505050565b6000620004d9620004d3846200085b565b62000803565b90508083825260208201905082856020860282011115620004f957600080fd5b60005b858110156200052d5781620005128882620005a8565b845260208401935060208301925050600181019050620004fc565b5050509392505050565b600081519050620005488162000b68565b92915050565b600082601f8301126200056057600080fd5b8151620005728482602086016200044d565b91505092915050565b600082601f8301126200058d57600080fd5b81516200059f848260208601620004c2565b91505092915050565b600081519050620005b98162000b82565b92915050565b600080600060608486031215620005d557600080fd5b6000620005e58682870162000537565b935050602084015167ffffffffffffffff8111156200060357600080fd5b62000611868287016200054e565b925050604084015167ffffffffffffffff8111156200062f57600080fd5b6200063d868287016200057b565b9150509250925092565b6200065281620008f8565b82525050565b600062000667602c836200088a565b9150620006748262000a29565b604082019050919050565b60006200068e6032836200088a565b91506200069b8262000a78565b604082019050919050565b6000620006b5602b836200088a565b9150620006c28262000ac7565b604082019050919050565b6000620006dc601a836200088a565b9150620006e98262000b16565b602082019050919050565b600062000703601d836200088a565b9150620007108262000b3f565b602082019050919050565b62000726816200092c565b82525050565b600060408201905062000743600083018562000647565b6200075260208301846200071b565b9392505050565b60006020820190508181036000830152620007748162000658565b9050919050565b6000602082019050818103600083015262000796816200067f565b9050919050565b60006020820190508181036000830152620007b881620006a6565b9050919050565b60006020820190508181036000830152620007da81620006cd565b9050919050565b60006020820190508181036000830152620007fc81620006f4565b9050919050565b60006200080f62000822565b90506200081d828262000936565b919050565b6000604051905090565b600067ffffffffffffffff8211156200084a5762000849620009e9565b5b602082029050602081019050919050565b600067ffffffffffffffff821115620008795762000878620009e9565b5b602082029050602081019050919050565b600082825260208201905092915050565b6000620008a8826200092c565b9150620008b5836200092c565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115620008ed57620008ec620009ba565b5b828201905092915050565b600062000905826200090c565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b620009418262000a18565b810181811067ffffffffffffffff82111715620009635762000962620009e9565b5b80604052505050565b600062000979826200092c565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415620009af57620009ae620009ba565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b7f5061796d656e7453706c69747465723a206163636f756e74206973207468652060008201527f7a65726f20616464726573730000000000000000000000000000000000000000602082015250565b7f5061796d656e7453706c69747465723a2070617965657320616e64207368617260008201527f6573206c656e677468206d69736d617463680000000000000000000000000000602082015250565b7f5061796d656e7453706c69747465723a206163636f756e7420616c726561647960008201527f2068617320736861726573000000000000000000000000000000000000000000602082015250565b7f5061796d656e7453706c69747465723a206e6f20706179656573000000000000600082015250565b7f5061796d656e7453706c69747465723a20736861726573206172652030000000600082015250565b62000b7381620008f8565b811462000b7f57600080fd5b50565b62000b8d816200092c565b811462000b9957600080fd5b50565b60805160601c611d2c62000bd0600039600081816103790152818161085901528181610a2a0152610ca50152611d2c6000f3fe6080604052600436106100c65760003560e01c806371b5bba61161007f5780639852595c116100595780639852595c1461029f578063c19d93fb146102dc578063ce7c2ac214610307578063e33b7de3146103445761010d565b806371b5bba61461020c5780638b83209b146102375780638da5cb5b146102745761010d565b806318f9b02314610112578063191655871461013b578063366653a9146101645780633a98ef39146101a15780634bb278f3146101cc57806353844552146101e35761010d565b3661010d577f6ef95f06320e7a25a04a175ca677b7052bdd97131872c2192525a629f51be7706100f461036f565b34604051610103929190611527565b60405180910390a1005b600080fd5b34801561011e57600080fd5b5061013960048036038101906101349190611254565b610377565b005b34801561014757600080fd5b50610162600480360381019061015d919061122b565b6104d7565b005b34801561017057600080fd5b5061018b60048036038101906101869190611202565b610803565b6040516101989190611550565b60405180910390f35b3480156101ad57600080fd5b506101b661084e565b6040516101c391906116a6565b60405180910390f35b3480156101d857600080fd5b506101e1610857565b005b3480156101ef57600080fd5b5061020a60048036038101906102059190611290565b610a28565b005b34801561021857600080fd5b50610221610c28565b60405161022e91906116a6565b60405180910390f35b34801561024357600080fd5b5061025e600480360381019061025991906112fc565b610c35565b60405161026b91906114e3565b60405180910390f35b34801561028057600080fd5b50610289610ca3565b60405161029691906114e3565b60405180910390f35b3480156102ab57600080fd5b506102c660048036038101906102c19190611202565b610cc7565b6040516102d391906116a6565b60405180910390f35b3480156102e857600080fd5b506102f1610d10565b6040516102fe919061156b565b60405180910390f35b34801561031357600080fd5b5061032e60048036038101906103299190611202565b610d23565b60405161033b91906116a6565b60405180910390f35b34801561035057600080fd5b50610359610d6c565b60405161036691906116a6565b60405180910390f35b600033905090565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610405576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103fc90611626565b60405180910390fd5b6000806001811115610440577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600560009054906101000a900460ff166001811115610488577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b146104c8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104bf906115c6565b60405180910390fd5b6104d28383610d76565b505050565b6001806001811115610512577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600560009054906101000a900460ff16600181111561055a577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1461059a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610591906115c6565b60405180910390fd5b6000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541161061c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161061390611646565b60405180910390fd5b60006001544761062c919061175a565b90506000600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600054600260008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054846106be91906117e1565b6106c891906117b0565b6106d2919061183b565b90506000811415610718576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161070f90611586565b60405180910390fd5b80600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610763919061175a565b600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550806001546107b4919061175a565b6001819055506107c48482610fa3565b7fdf20fd1e76bc69d672e4814fafb2c449bba3a5369d8359adf9e05e6fde87b05684826040516107f59291906114fe565b60405180910390a150505050565b600080600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054119050919050565b60008054905090565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146108e5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108dc90611626565b60405180910390fd5b6000806001811115610920577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600560009054906101000a900460ff166001811115610968577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b146109a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161099f906115c6565b60405180910390fd5b6001600560006101000a81548160ff021916908360018111156109f4577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b02179055507f6823b073d48d6e3a7d385eeb601452d680e74bb46afe3255a7d778f3a9b1768160405160405180910390a150565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610ab6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aad90611626565b60405180910390fd5b6000806001811115610af1577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600560009054906101000a900460ff166001811115610b39577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b14610b79576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b70906115c6565b60405180910390fd5b60005b8351811015610c2257610c0f848281518110610bc1577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151848381518110610c02577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151610d76565b8080610c1a90611955565b915050610b7c565b50505050565b6000600480549050905090565b600060048281548110610c71577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600560009054906101000a900460ff1681565b6000600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600154905090565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610de6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ddd906115a6565b60405180910390fd5b60008111610e29576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e2090611686565b60405180910390fd5b6000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414610eab576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ea290611666565b60405180910390fd5b6004829080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555080600054610f60919061175a565b6000819055507f40c340f65e17194d14ddddb073d3c9f888e3cb52b5aae0c6c7706b4fbc905fac8282604051610f97929190611527565b60405180910390a15050565b80471015610fe6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fdd90611606565b60405180910390fd5b60008273ffffffffffffffffffffffffffffffffffffffff168260405161100c906114ce565b60006040518083038185875af1925050503d8060008114611049576040519150601f19603f3d011682016040523d82523d6000602084013e61104e565b606091505b5050905080611092576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611089906115e6565b60405180910390fd5b505050565b60006110aa6110a5846116e6565b6116c1565b905080838252602082019050828560208602820111156110c957600080fd5b60005b858110156110f957816110df888261116f565b8452602084019350602083019250506001810190506110cc565b5050509392505050565b600061111661111184611712565b6116c1565b9050808382526020820190508285602086028201111561113557600080fd5b60005b85811015611165578161114b88826111ed565b845260208401935060208301925050600181019050611138565b5050509392505050565b60008135905061117e81611cb1565b92915050565b60008135905061119381611cc8565b92915050565b600082601f8301126111aa57600080fd5b81356111ba848260208601611097565b91505092915050565b600082601f8301126111d457600080fd5b81356111e4848260208601611103565b91505092915050565b6000813590506111fc81611cdf565b92915050565b60006020828403121561121457600080fd5b60006112228482850161116f565b91505092915050565b60006020828403121561123d57600080fd5b600061124b84828501611184565b91505092915050565b6000806040838503121561126757600080fd5b60006112758582860161116f565b9250506020611286858286016111ed565b9150509250929050565b600080604083850312156112a357600080fd5b600083013567ffffffffffffffff8111156112bd57600080fd5b6112c985828601611199565b925050602083013567ffffffffffffffff8111156112e657600080fd5b6112f2858286016111c3565b9150509250929050565b60006020828403121561130e57600080fd5b600061131c848285016111ed565b91505092915050565b61132e816118dc565b82525050565b61133d8161186f565b82525050565b61134c81611893565b82525050565b61135b816118ee565b82525050565b600061136e602483611749565b915061137982611a6b565b604082019050919050565b6000611391602c83611749565b915061139c82611aba565b604082019050919050565b60006113b4601f83611749565b91506113bf82611b09565b602082019050919050565b60006113d7603a83611749565b91506113e282611b32565b604082019050919050565b60006113fa601d83611749565b915061140582611b81565b602082019050919050565b600061141d602183611749565b915061142882611baa565b604082019050919050565b600061144060008361173e565b915061144b82611bf9565b600082019050919050565b6000611463601f83611749565b915061146e82611bfc565b602082019050919050565b6000611486602b83611749565b915061149182611c25565b604082019050919050565b60006114a9601d83611749565b91506114b482611c74565b602082019050919050565b6114c8816118d2565b82525050565b60006114d982611433565b9150819050919050565b60006020820190506114f86000830184611334565b92915050565b60006040820190506115136000830185611325565b61152060208301846114bf565b9392505050565b600060408201905061153c6000830185611334565b61154960208301846114bf565b9392505050565b60006020820190506115656000830184611343565b92915050565b60006020820190506115806000830184611352565b92915050565b6000602082019050818103600083015261159f81611361565b9050919050565b600060208201905081810360008301526115bf81611384565b9050919050565b600060208201905081810360008301526115df816113a7565b9050919050565b600060208201905081810360008301526115ff816113ca565b9050919050565b6000602082019050818103600083015261161f816113ed565b9050919050565b6000602082019050818103600083015261163f81611410565b9050919050565b6000602082019050818103600083015261165f81611456565b9050919050565b6000602082019050818103600083015261167f81611479565b9050919050565b6000602082019050818103600083015261169f8161149c565b9050919050565b60006020820190506116bb60008301846114bf565b92915050565b60006116cb6116dc565b90506116d78282611924565b919050565b6000604051905090565b600067ffffffffffffffff82111561170157611700611a2b565b5b602082029050602081019050919050565b600067ffffffffffffffff82111561172d5761172c611a2b565b5b602082029050602081019050919050565b600081905092915050565b600082825260208201905092915050565b6000611765826118d2565b9150611770836118d2565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156117a5576117a461199e565b5b828201905092915050565b60006117bb826118d2565b91506117c6836118d2565b9250826117d6576117d56119cd565b5b828204905092915050565b60006117ec826118d2565b91506117f7836118d2565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156118305761182f61199e565b5b828202905092915050565b6000611846826118d2565b9150611851836118d2565b9250828210156118645761186361199e565b5b828203905092915050565b600061187a826118b2565b9050919050565b600061188c826118b2565b9050919050565b60008115159050919050565b60008190506118ad82611c9d565b919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006118e782611900565b9050919050565b60006118f98261189f565b9050919050565b600061190b82611912565b9050919050565b600061191d826118b2565b9050919050565b61192d82611a5a565b810181811067ffffffffffffffff8211171561194c5761194b611a2b565b5b80604052505050565b6000611960826118d2565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156119935761199261199e565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b7f53706c69747465723a206163636f756e74206973206e6f74206475652070617960008201527f6d656e7400000000000000000000000000000000000000000000000000000000602082015250565b7f5061796d656e7453706c69747465723a206163636f756e74206973207468652060008201527f7a65726f20616464726573730000000000000000000000000000000000000000602082015250565b7f53706c69747465723a206e6f7420696e20726571756972656420737461746500600082015250565b7f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260008201527f6563697069656e74206d61792068617665207265766572746564000000000000602082015250565b7f416464726573733a20696e73756666696369656e742062616c616e6365000000600082015250565b7f53706c69747465723a2063616c6c6572206973206e6f7420746865206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b50565b7f53706c69747465723a206163636f756e7420686173206e6f2073686172657300600082015250565b7f5061796d656e7453706c69747465723a206163636f756e7420616c726561647960008201527f2068617320736861726573000000000000000000000000000000000000000000602082015250565b7f5061796d656e7453706c69747465723a20736861726573206172652030000000600082015250565b60028110611cae57611cad6119fc565b5b50565b611cba8161186f565b8114611cc557600080fd5b50565b611cd181611881565b8114611cdc57600080fd5b50565b611ce8816118d2565b8114611cf357600080fd5b5056fea2646970667358221220ddc8fb80605405f3bd616b82be735306cc7106e5069cd95aefad6fa1ffc543f964736f6c63430008040033";const{rpcURL:Se}=wf();function Oe(){const f=F({splitter:null,address:"",balance:"",owner:"",totalReceived:"0",state:"",totalPayees:0,totalShares:1,payees:[],withdrawableAmount:B.from(0)});const e=c((()=>f.withdrawableAmount.gt(B.from(0))));return{state:f,withdrawable:e,fetch:async function(e){const a=new U(Se.value),t=new $(e,Ee,a);await t.deployed();const{multicall:s,call:n,results:l}=D(a),d=[{interface:t.interface,address:e,method:"owner"},{interface:t.interface,address:e,method:"totalPayees"},{interface:t.interface,address:e,method:"totalShares"},{interface:t.interface,address:e,method:"state"},{interface:s.interface,address:s.address,method:"getEthBalance",args:[e]},{interface:t.interface,address:e,method:"totalReleased"}];await n(d);const[[r],[o],[i],[c],{balance:b},[u]]=l.value,p=b.add(u);let m=[];for(let f=0;f<o.toNumber();f++){const e=await t.payee(B.from(f)),a=await t.shares(e),s=p.mul(a).div(i),n={address:e,share:a.toNumber(),available:(+V.formatEther(s)).toFixed(3)};m.push(n)}switch(f.splitter=W(t),f.payees=m,f.address=e,f.balance=C(b),f.owner=r,f.totalPayees=o.toNumber(),f.totalShares=i.toNumber(),f.totalReceived=C(p),c){case 0:f.state="Opening";break;case 1:f.state="Finalized"}},clearState:function(){f.splitter=null,f.address="",f.balance="",f.owner="",f.totalReceived="0",f.state="",f.totalPayees=0,f.totalShares=1,f.payees=[],f.withdrawableAmount=B.from(0)},deploy:async function(f,e,a,t){const s=new _(Ee,ze,f),n=await s.deploy(e,a,t);return await n.deployed(),n.address},addPayees:async function(f,e,a,t){const s=new $(e,Ee,f);await s.addPayees(a,t)},withdraw:async function(f,e,a){const t=new $(e,Ee,f);return await t.release(a)},finalize:async function(f,e){const a=new $(e,Ee,f);return await a.finalize()},fetchWithdrawableAmount:async function(e,a){var t;const s=new $(a,Ee,e),n=await(null==(t=e.provider)?void 0:t.getBalance(a)),l=await s.shares(await e.getAddress()),d=await s.released(await e.getAddress()),r=await s.totalReleased(),o=null==n?void 0:n.add(r),i=await s.totalShares(),c=null==o?void 0:o.mul(l).div(i).sub(d);f.withdrawableAmount=c||B.from(0)}}}var Ie=r({components:{Delete:ce,Button:pe},name:"Home",setup(){const f=K(),{error:e}=N(),{signer:a}=x(),{isDev:t,appChainId:s}=wf(),{add:n,remove:l,storage:d}=function(){const{storage:f}=q("splitter_history");return f.value||(f.value=[]),{storage:f,add:e=>{f.value.find((f=>f.address===e.address&&f.chainId===e.chainId))||f.value.push(e)},remove:e=>{f.value=f.value.filter(((f,a)=>a!==e))}}}(),r=c((()=>d.value.slice().reverse())),o=i(!1),{payees:u,add:p,remove:m,share:y,address:h,errMsg:v,clearState:w}=Ae();L(o,(f=>{f||(w(),v.value="")}));const k=i(""),C=i(""),{deploy:M}=Oe(),H=i("");return{addressInput:k,connectError:e,inputError:C,createSplitterModal:o,searchHandler:()=>{C.value="",b(k.value)?(n({address:k.value,chainId:s.value}),f.push(`/contract/${k.value}`)):C.value="invalid address"},createSplitterHandler:()=>{o.value=!0},payees:u,add:p,remove:m,share:y,address:h,payeesError:v,ownerInput:H,deployHandler:async()=>{if(!a.value){const f="Wallet was not yet connected.";throw R({type:"error",text:f}),new Error(f)}let e=[],t=[];u.value.forEach((f=>{e.push(f.address),t.push(f.share)}));const l=await M(a.value,H.value,e,t);n({address:l,chainId:s.value}),f.push(`/contract/${l}`)},reverseStorage:r,removeHistory:l,displayChainName:g}}});const Le={class:"text-center text-red-600"},Te={class:"text-center p-6"},Pe={class:"max-w-sm mx-auto p-1 pr-0 flex items-center"},Ne={class:"text-center text-red-600"},Re={key:0,class:"w-full max-w-screen-xl mx-auto px-6"},je={class:"flex justify-center p-2 px-3"},Ve={class:"w-full max-w-md"},Fe={class:"bg-white shadow rounded-lg px-3 py-2 mb-4"},Be={class:"py-3 text-md"},_e=d("div",{class:"flex justify-start px-2 py-2 my-2"},[d("div",{class:"text-lg flex-grow font-bold px-2"},"History")],-1),$e=d("span",{class:"bg-blue-400 h-2 w-2 m-2 rounded-full"},null,-1),Ue={class:"flex-1 font-medium"},De={class:"w-24"},We={class:"text-sm text-gray-500 tracking-wide"},qe={class:"w-full relative overflow-hidden mb-4"},Ke={class:"bg-white mx-auto max-w-lg px-2 overflow-hidden"},Ye={class:"sm:flex sm:items-center"},Ge={class:"flex-grow"},Je=d("h3",{class:"font-normal text-lg p-1 leading-tight"},"Owner Address",-1),Qe=d("h3",{class:"font-normal text-lg p-1 leading-tight"},"Recipients and Shares",-1),Xe={class:"flex items-center"},Ze={class:"text-sm text-center text-red-600"},fa={class:"w-full"},ea=d("div",{class:"flex items-center mr-3"},[d("span",{class:"bg-blue-400 h-1.5 w-1.5 m-2 rounded-full"})],-1),aa={class:"w-4/6 flex items-center"},ta={class:""},sa={class:"w-1/6 flex items-center"},na={class:"text-sm text-grey-dark"},la={class:"w-1/6 flex justify-center items-center"},da={class:"text-sm text-grey-dark"},ra={class:"sm:flex bg-grey-light sm:items-center py-4"},oa={class:"flex-grow w-full"},ia=v("Deploy");Ie.render=function(f,e,a,t,s,r){const o=lf,i=re,c=M("router-link"),b=ce,u=ce,v=pe,w=we;return n(),l(h,null,[d("p",Le,p(f.connectError),1),d("div",Te,[d("button",{onClick:e[0]||(e[0]=(...e)=>f.createSplitterHandler&&f.createSplitterHandler(...e)),class:"btn"},"Create Splitter")]),d("div",Pe,[z(d("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>f.addressInput=e),type:"text",placeholder:"existing contract address",class:"flex-1 appearance-none rounded shadow p-3 text-grey-dark mr-2 focus:outline-none"},null,512),[[Y,f.addressInput]]),d("button",{onClick:e[2]||(e[2]=(...e)=>f.searchHandler&&f.searchHandler(...e)),class:"btn"},"Search")]),d("p",Ne,p(f.inputError),1),f.reverseStorage.length>0?(n(),l("div",Re,[d("div",je,[d("div",Ve,[d("div",Fe,[d("div",Be,[_e,(n(!0),l(h,null,E(f.reverseStorage,((e,a)=>(n(),l("div",{key:a,class:"flex justify-between rounded-md px-2 py-2 my-2 cursor-pointer text-gray-700 hover:bg-blue-100"},[$e,d("div",Ue,[m(o,{address:e.address},null,8,["address"])]),d("div",De,p(f.displayChainName(e.chainId)),1),m(c,{to:{name:"Contract",params:{address:e.address},query:{chainId:e.chainId}},class:"w-12 text-sm text-gray-500 tracking-wide"},{default:A((()=>[m(i)])),_:2},1032,["to"]),d("div",We,[m(b,{onClick:e=>f.removeHistory(f.reverseStorage.length-1-a)},null,8,["onClick"])])])))),128))])])])])])):y("",!0),m(w,{modalOpen:f.createSplitterModal,onModalClose:e[7]||(e[7]=e=>f.createSplitterModal=!1)},{default:A((()=>[d("div",qe,[d("div",Ke,[d("div",Ye,[d("div",Ge,[Je,z(d("input",{"onUpdate:modelValue":e[3]||(e[3]=e=>f.ownerInput=e),type:"text",placeholder:"owner's address",class:"my-2 w-full text-sm bg-grey-light text-grey-darkest rounded h-10 p-3 focus:outline-none"},null,512),[[Y,f.ownerInput]]),Qe,d("div",Xe,[z(d("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>f.address=e),type:"text",placeholder:"recipient's address",class:"my-2 mr-2 text-sm bg-grey-light text-grey-darkest rounded h-10 p-3 focus:outline-none"},null,512),[[Y,f.address]]),z(d("input",{"onUpdate:modelValue":e[5]||(e[5]=e=>f.share=e),type:"number",placeholder:"shares",class:"my-2 mr-2 w-2/7 text-sm bg-grey-light text-grey-darkest rounded h-10 p-3 focus:outline-none"},null,512),[[Y,f.share]]),d("button",{onClick:e[6]||(e[6]=(...e)=>f.add&&f.add(...e)),class:"h-10 flex-grow px-3 py-1 rounded inline-block bg-blue-100 text-gray-600 cursor-pointer hover:bg-blue-200 focus:outline-none disabled:cursor-default disabled:opacity-70 disabled:bg-blue-100"}," Add ")]),d("p",Ze,p(f.payeesError),1),d("div",fa,[(n(!0),l(h,null,E(f.payees,((e,a)=>(n(),l("div",{key:a,class:"flex"},[ea,d("div",aa,[d("p",ta,[m(o,{address:e.address},null,8,["address"])])]),d("div",sa,[d("p",na,p(e.share),1)]),d("div",la,[d("p",da,[m(u,{onClick:a=>f.remove(e.address)},null,8,["onClick"])])])])))),128))])])]),d("div",ra,[d("div",oa,[m(v,{handlerFn:f.deployHandler,globalLoader:"",loadingMsg:"Deploying..."},{default:A((()=>[ia])),_:1},8,["handlerFn"])])])])])])),_:1},8,["modalOpen"])],64)};const ca={},ba={class:"cursor-pointer fill-current hover:text-gray-500",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},ua=[d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),d("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"},null,-1)];var pa,ma;ca.render=function(f,e){return n(),l("svg",ba,ua)},(ma=pa||(pa={}))[ma.Owner=0]="Owner",ma[ma.Payee=1]="Payee",ma[ma.OwnerAndPayee=2]="OwnerAndPayee",ma[ma.Others=3]="Others";var ya=r({components:{Modal:we,Address:lf,Button:pe},name:"Contract",setup(){const f=G(),{state:n,withdrawable:l,fetch:d,clearState:r,addPayees:o,withdraw:b,finalize:p,fetchWithdrawableAmount:m}=Oe(),{signer:y,provider:h,address:v}=x(),{appChainId:w,isDev:g}=wf(),{isLoading:k}=Xf(),M=i(3),H=()=>{if(M.value=3,v.value){n.owner===v.value&&(M.value=0);for(let f=0;f<n.payees.length;f++)if(n.payees[f].address===v.value){if(n.owner===v.value){M.value=2;break}M.value=1;break}}};L(h,(async()=>{g&&console.log("watching Web3Provider for update role."),H()})),L((()=>((f,n)=>{for(var l in n||(n={}))a.call(n,l)&&s(f,l,n[l]);if(e)for(var l of e(n))t.call(n,l)&&s(f,l,n[l]);return f})({},n)),(async()=>{H()})),L(M,(async f=>{1!==f&&2!==f||await m(y.value,A)}));const A=f.params.address,E=i(""),z=async()=>{if("Contract"===f.name){E.value="";try{k.value=!0,await d(A),y.value&&(await m(y.value,A),g&&console.log("fetchData: withdrawableAmount updated"))}catch(e){E.value=(f=>f.message.substring(0,f.message.indexOf("(")))(e),r()}finally{k.value=!1}g&&console.log("fetchData: data updated")}},S=async()=>{var f,e,a,t;if(n.splitter){const s=await(null==(f=n.splitter)?void 0:f.provider.getBlockNumber());if(null==(e=n.splitter)||e.on("PaymentReceived",((f,e,a)=>{a.blockNumber<=s||(R({text:`received ${Q(e)} ETH from ${u(f)}`}),z())})),null==(a=n.splitter)||a.on("PayeeAdded",((f,e,a)=>{a.blockNumber<=s||(R({text:`payee added: ${u(f)} with share ${e}`}),z())})),g){const f=await(null==(t=n.splitter)?void 0:t.provider.getNetwork());console.log("start listening Event at chainId: ",null==f?void 0:f.chainId)}}};L(w,(async()=>{g&&console.log("watching appChainId..."),await z(),H(),S()})),J((async()=>{await z(),S()})),T((()=>{var f;null==(f=n.splitter)||f.removeAllListeners(),console.log("removed Event listener")}));const O=i(!1),I=i(0),P=i(!1),N=i(""),j=i(!1),{payees:F,add:B,remove:_,share:$,address:U,errMsg:D,clearState:W}=Ae();L(j,(f=>{f||(W(),D.value="")}));const{modalOpen:q,open:K,close:Y}=(()=>{const f=i(!1);return{modalOpen:f,open:()=>{f.value=!0},close:()=>{f.value=!1}}})(),X=c((()=>C(n.withdrawableAmount)));return{role:M,Role:pa,state:n,withdrawable:l,displayWithdrawableAmount:X,settingModal:j,sendEtherModal:O,contractAddr:c((()=>A)),sendAmount:I,dropdown:P,fetchError:E,sendError:N,dropdownHandler:()=>{P.value=!P.value},settingHandler:()=>{j.value=!0},sendEtherHandler:()=>{N.value="",O.value=!0},sendTxHandler:async()=>{try{const f=await(async(f,e)=>{if(!y.value)throw new Error("Wallet was not yet connected");return await y.value.sendTransaction({from:v.value,to:f,value:V.parseEther(e.toString()).toHexString()})})(A,I.value);O.value=!1,R({text:"transaction pending..."}),await f.wait(),R({text:"transaction confirmed"})}catch(f){N.value=f.message}},displayEther:C,payees:F,add:B,remove:_,share:$,address:U,payeesError:D,addPayeesHandler:async()=>{if(!y.value)throw new Error("please connect wallet at first");let f=[],e=[];F.value.forEach((a=>{f.push(a.address),e.push(a.share)})),await o(y.value,A,f,e),j.value=!1,R({text:"transaction pending..."})},finalizeModal:q,openFinalizeModal:K,closeFinalizeModal:Y,withdrawHandler:async()=>{if("Opening"===n.state)throw new Error("cannot withdraw in Opening state.");if(!y.value)throw new Error("please connect wallet at first");const f=await b(y.value,A,v.value);R({text:"transaction pending..."}),await f.wait(),R({text:"transaction confirmed"}),await z()},finalizeHandler:async()=>{if("Finalized"===n.state)throw new Error("state is finalized");if(!y.value)throw new Error("please connect wallet at first");const f=await p(y.value,A);Y(),R({text:"transaction pending..."}),await f.wait(),R({text:"transaction confirmed"}),await z()}}}});const ha={class:"w-full max-w-screen-xl mx-auto px-6"},va={class:"flex justify-center p-2 px-3"},wa={class:"w-full max-w-md text-center"},xa={key:0,class:"text-gray-500"},ga={key:1,class:"text-3xl text-gray-500"},ka={key:2,class:"text-3xl text-gray-500"},Ca={key:3,class:"text-3xl text-gray-500"},Ma={class:"text-red-600"},Ha={key:4,class:"py-2 px-5"},Aa={class:"p-2 text-xl text-gray-500"},Ea=v("Withdraw"),za={class:"w-full max-w-screen-xl mx-auto px-6"},Sa={class:"flex justify-center p-2 px-3"},Oa={class:"w-full max-w-md text-center"},Ia={class:"p-5 shadow rounded-lg"},La=d("p",{class:"text-center text-lg font-bold text-xl mb-2"},"Contract",-1),Ta={class:"text-center text-gray-500 text-xl"},Pa={class:"text-center text-gray-500 text-sm"},Na=["disabled"],Ra={class:"w-full max-w-screen-xl mx-auto px-6"},ja={class:"flex justify-center p-4 px-3"},Va={class:"flex w-full max-w-md"},Fa={class:"w-1/2 rounded shadow p-5 mr-2"},Ba=d("p",{class:"text-lg font-bold"},"Total Received",-1),_a={class:"text-xl text-gray-500"},$a={class:"w-1/2 rounded shadow p-5 ml-2"},Ua={class:"flex justify-between"},Da=d("p",{class:"text-lg font-bold"},"State",-1),Wa={class:"text-xl text-gray-500"},qa={class:"w-full max-w-screen-xl mx-auto px-6"},Ka={class:"flex justify-center p-2 px-3"},Ya={class:"w-full max-w-md"},Ga={class:"bg-white shadow rounded-lg px-3 py-2 mb-4"},Ja={class:"py-3"},Qa={class:"flex justify-start items-center px-2 py-2 my-2"},Xa=d("div",{class:"text-lg font-bold px-2"},"Owner",-1),Za={class:"text-lg flex-grow text-gray-500"},ft={class:"flex justify-start items-center px-2 py-2 my-2"},et=d("div",{class:"text-lg flex-grow font-bold px-2"},"Recipients",-1),at={class:"text-lg text-gray-500 tracking-wide"},tt=d("span",{class:"bg-blue-400 h-2 w-2 m-2 rounded-full"},null,-1),st={class:"flex-grow font-medium px-2"},nt={class:"text-sm text-gray-500 tracking-wide mr-6"},lt={class:"text-sm text-gray-500 tracking-wide"},dt={class:"max-w-sm mx-auto py-2 flex items-center"},rt={class:"relative inline-block text-left"},ot=[v(" ETH "),d("svg",{class:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)],it={key:0,class:"origin-top-right absolute right-0 mt-2 w-30 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},ct=[d("div",{class:"py-1",role:"none"},[d("div",{class:"text-gray-700 capitalize block px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"},"USDC")],-1)],bt={class:"w-full py-2"},ut={class:"text-red-600 text-center"},pt={class:"w-full relative overflow-hidden mb-8"},mt={class:"bg-white mx-auto max-w-sm overflow-hidden"},yt={class:"sm:flex sm:items-center"},ht={class:"flex-grow"},vt=d("h3",{class:"font-normal text-lg p-1 leading-tight"},"Recipients and Shares",-1),wt={class:"flex items-center"},xt={class:"text-sm text-center text-red-600"},gt={class:"w-full"},kt=d("div",{class:"flex items-center mr-3"},[d("span",{class:"bg-blue-400 h-1.5 w-1.5 m-2 rounded-full"})],-1),Ct={class:"w-4/6 flex items-center"},Mt={class:""},Ht={class:"w-1/6 flex items-center"},At={class:"text-sm text-grey-dark"},Et={class:"w-1/6 flex justify-center items-center"},zt={class:"text-sm text-grey-dark"},St={class:"sm:flex bg-grey-light sm:items-center py-4"},Ot={class:"flex-grow"},It=v("Add Recipients"),Lt={class:"w-full text-center"},Tt=d("p",{class:"text-2xl"},"Finalize",-1),Pt=d("p",{class:"text-xl my-4"},"Are you sure to finalize the splitter?",-1),Nt=v("Confirm");ya.render=function(f,e,a,t,s,r){const o=pe,i=lf,c=ca,b=we,u=ce,v=H("click-outside");return n(),l(h,null,[d("div",ha,[d("div",va,[d("div",wa,[f.role!==f.Role.Others?(n(),l("p",xa,"role")):y("",!0),f.role===f.Role.Owner?(n(),l("p",ga,"Owner")):f.role===f.Role.Payee?(n(),l("p",ka,"Recipient")):f.role===f.Role.OwnerAndPayee?(n(),l("p",Ca,"Owner & Recipient")):y("",!0),d("p",Ma,p(f.fetchError),1),"Finalized"!==f.state.state||f.role!==f.Role.Payee&&f.role!==f.Role.OwnerAndPayee?y("",!0):(n(),l("div",Ha,[d("p",Aa,"You can withdraw "+p(f.displayWithdrawableAmount)+" ETH ",1),!f.withdrawable||"Finalized"!==f.state.state||f.role!==f.Role.Payee&&f.role!==f.Role.OwnerAndPayee?y("",!0):(n(),S(o,{key:0,handlerFn:f.withdrawHandler},{default:A((()=>[Ea])),_:1},8,["handlerFn"]))]))])])]),d("div",za,[d("div",Sa,[d("div",Oa,[d("div",Ia,[La,d("p",Ta," balance: "+p(f.state.balance)+" ETH ",1),d("p",Pa,[m(i,{address:f.contractAddr,short:!1},null,8,["address"])]),d("button",{onClick:e[0]||(e[0]=(...e)=>f.sendEtherHandler&&f.sendEtherHandler(...e)),class:"btn w-full mt-2",disabled:!!f.fetchError},"Send Ether",8,Na)])])])]),d("div",Ra,[d("div",ja,[d("div",Va,[d("div",Fa,[Ba,d("p",_a,p(f.state.totalReceived)+" ETH",1)]),d("div",$a,[d("div",Ua,[Da,"Opening"!==f.state.state||f.role!==f.Role.Owner&&f.role!==f.Role.OwnerAndPayee?y("",!0):(n(),S(c,{key:0,onClick:f.openFinalizeModal},null,8,["onClick"]))]),d("p",Wa,p(f.state.state),1)])])])]),d("div",qa,[d("div",Ka,[d("div",Ya,[d("div",Ga,[d("div",Ja,[d("div",Qa,[Xa,d("div",Za,[m(i,{address:f.state.owner},null,8,["address"])]),"Opening"!==f.state.state||f.role!==f.Role.Owner&&f.role!==f.Role.OwnerAndPayee?y("",!0):(n(),S(c,{key:0,onClick:f.settingHandler},null,8,["onClick"]))]),d("div",ft,[et,d("div",at,"Total: "+p(f.state.totalPayees),1)]),(n(!0),l(h,null,E(f.state.payees,(e=>(n(),l("div",{key:e.address,class:"flex justify-start rounded-md px-2 py-2 my-2"},[tt,d("div",st,[m(i,{address:e.address},null,8,["address"])]),d("div",nt,p(e.share)+" ("+p((e.share/f.state.totalShares*100).toFixed(1))+" %) ",1),d("div",lt,p(e.available)+" ETH",1)])))),128))])])])])]),m(b,{modalOpen:f.sendEtherModal,onModalClose:e[4]||(e[4]=e=>f.sendEtherModal=!1)},{default:A((()=>[d("div",dt,[z(d("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>f.sendAmount=e),type:"number",placeholder:"amount",class:"flex-1 appearance-none rounded px-4 py-2 text-grey-dark mr-2 focus:outline-none"},null,512),[[Y,f.sendAmount]]),d("div",rt,[d("div",null,[z(d("button",{onClick:e[2]||(e[2]=(...e)=>f.dropdownHandler&&f.dropdownHandler(...e)),type:"button",class:"inline-flex justify-center w-full capitalize rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none","aria-expanded":"true","aria-haspopup":"true"},ot,512),[[v,()=>f.dropdown=!1]])]),f.dropdown?(n(),l("div",it,ct)):y("",!0)])]),d("div",bt,[d("p",ut,p(f.sendError),1)]),d("button",{onClick:e[3]||(e[3]=(...e)=>f.sendTxHandler&&f.sendTxHandler(...e)),class:"btn w-full"},"Send")])),_:1},8,["modalOpen"]),m(b,{modalOpen:f.settingModal,onModalClose:e[8]||(e[8]=e=>f.settingModal=!1)},{default:A((()=>[d("div",pt,[d("div",mt,[d("div",yt,[d("div",ht,[vt,d("div",wt,[z(d("input",{"onUpdate:modelValue":e[5]||(e[5]=e=>f.address=e),type:"text",placeholder:"recipient's address",class:"my-2 mr-2 text-sm bg-grey-light text-grey-darkest rounded h-10 p-3 focus:outline-none"},null,512),[[Y,f.address]]),z(d("input",{"onUpdate:modelValue":e[6]||(e[6]=e=>f.share=e),type:"number",placeholder:"shares",class:"my-2 mr-2 w-2/7 text-sm bg-grey-light text-grey-darkest rounded h-10 p-3 focus:outline-none"},null,512),[[Y,f.share]]),d("button",{onClick:e[7]||(e[7]=(...e)=>f.add&&f.add(...e)),class:"h-10 flex-grow px-3 py-1 rounded inline-block bg-blue-100 text-gray-600 cursor-pointer hover:bg-blue-200 focus:outline-none disabled:cursor-default disabled:opacity-70 disabled:bg-blue-100"}," Add ")]),d("p",xt,p(f.payeesError),1),d("div",gt,[(n(!0),l(h,null,E(f.payees,((e,a)=>(n(),l("div",{key:a,class:"flex"},[kt,d("div",Ct,[d("p",Mt,[m(i,{address:e.address},null,8,["address"])])]),d("div",Ht,[d("p",At,p(e.share),1)]),d("div",Et,[d("p",zt,[m(u,{onClick:a=>f.remove(e.address)},null,8,["onClick"])])])])))),128))])])]),d("div",St,[d("div",Ot,[m(o,{handlerFn:f.addPayeesHandler},{default:A((()=>[It])),_:1},8,["handlerFn"])])])])])])),_:1},8,["modalOpen"]),m(b,{modalOpen:f.finalizeModal,onModalClose:f.closeFinalizeModal},{default:A((()=>[d("div",Lt,[Tt,Pt,m(o,{handlerFn:f.finalizeHandler},{default:A((()=>[Nt])),_:1},8,["handlerFn"])])])),_:1},8,["modalOpen","onModalClose"])],64)};const Rt=[{path:"/",name:"Home",component:Ie},{path:"/contract/:address",name:"Contract",component:ya},{path:"/:pathMatch(.*)*",name:"404",component:()=>{return f=()=>import("./Error404.d9082a31.js"),(e=["assets/Error404.d9082a31.js","assets/vendor.b5508006.js"])&&0!==e.length?Promise.all(e.map((f=>{if((f=`/${f}`)in de)return;de[f]=!0;const e=f.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${a}`))return;const t=document.createElement("link");return t.rel=e?"stylesheet":"modulepreload",e||(t.as="script",t.crossOrigin=""),t.href=f,document.head.appendChild(t),e?new Promise(((f,e)=>{t.addEventListener("load",f),t.addEventListener("error",e)})):void 0}))).then((()=>f())):f();var f,e}}],jt=X({history:Z(),routes:Rt});jt.afterEach(((f,e)=>{const{appChainId:a,isDev:t}=wf();f.query.chainId&&(a.value=Number(f.query.chainId)),uf(a.value),t&&console.log("router.beforeEach: updateChainId")}));const Vt=ff(se);Vt.use(ef,{infuraId:"ba5030f413794d7ab93fa0623e55d48c"}),Vt.use(af),Vt.use(jt),Vt.mount("#app");
